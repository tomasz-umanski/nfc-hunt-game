# Profile Configuration
spring.profiles.active=${SPRING_PROFILES_ACTIVE:local}

# Server Configuration
server.port=${SERVER_PORT:8080}
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# Spring JPA Configuration
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:validate}
spring.jpa.show-sql=${JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.properties.hibernate.format_sql=${JPA_FORMAT_SQL:false}
spring.jpa.properties.hibernate.generate_statistics=${JPA_GENERATE_STATS:false}

# Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=${DB_POOL_SIZE:10}
spring.datasource.hikari.minimum-idle=${DB_POOL_MIN_IDLE:2}
spring.datasource.hikari.connection-timeout=${DB_CONNECTION_TIMEOUT:30000}
spring.datasource.hikari.idle-timeout=${DB_IDLE_TIMEOUT:600000}
spring.datasource.hikari.max-lifetime=${DB_MAX_LIFETIME:1800000}
spring.datasource.hikari.leak-detection-threshold=${DB_LEAK_DETECTION:60000}

# Open-in-View Configuration
spring.jpa.open-in-view=${JPA_OPEN_IN_VIEW:false}

# i18n configuration
spring.messages.basename=messages
spring.messages.encoding=UTF-8
spring.messages.cache-duration=${I18N_CACHE_DURATION:3600s}
spring.messages.fallback-to-system-locale=true

# Default locale
spring.web.locale=${DEFAULT_LOCALE:en}
spring.web.locale-resolver=accept_header

# File Upload Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=${UPLOAD_MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${UPLOAD_MAX_REQUEST_SIZE:10MB}

# Application-specific configuration
app.upload.url-pattern=/public/uploads/**
app.upload.allowed-extensions=${UPLOAD_ALLOWED_EXTENSIONS:jpg,jpeg,png,gif}
app.upload.directory=${UPLOAD_DIRECTORY:/app/uploads}

# Flyway configuration
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.validate-on-migrate=true
spring.flyway.placeholder-replacement=true
